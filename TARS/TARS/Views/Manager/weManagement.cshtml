@model IEnumerable<TARS.Models.WorkEffort>

@{
    ViewBag.Title = "Work Effort Management";
}

<h2>Work Efforts</h2>

<p>
@Html.ActionLink("Add Work Effort", "addWorkEffort")
</p>

<table class="timesheet">
    <tr>
        <th>
            PcaCode
        </th>
        <th>
            EarningsCode
        </th>
        <th>
            Description
        </th>
        <th>
            StartDate
        </th>
        <th>
            EndDate
        </th>
    </tr>

@if (Model != null)
{
    foreach (var item in Model)
    {       
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.pcaCode)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.earningsCode)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.description)
            </td>
            <td>
                @item.startDate.ToShortDateString()
            </td>
            <td>
                @item.endDate.ToShortDateString()
            </td>

            <td>
                @Html.ActionLink("Edit", "editWorkEffort", new { id=item.ID }) |
                @Html.ActionLink("Delete", "deleteWorkEffort", new { id=item.ID }) |
                @Html.ActionLink("Hide", "hideWorkEffort", new { id=item.ID })
                <!-- If there are comments, provide a link to view them -->
                @if ((item.comments != null) && (item.comments.Trim().Length > 0))
                {
                    <html> | </html>                    
                    @Html.ActionLink("View Comments", "viewWorkEffort", "User", new { id = item.ID }, null)
                }
            </td>
        </tr>
    }
}
</table>

